{{> navigation}}

<div class="container">

	<div class="modal fade" tabindex="-1" role="dialog" data-bind="modal: showDialog">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h4 class="modal-title">title</h4>

				</div>
				<div class="modal-body">
					body
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-primary btn-xs" data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>

	<h2>Wertungsl&auml;ufe</h2>

	{{> resultSelect}}
	<div data-bind="visible: loading">Lade L&auml;ufe ... <img src="fonts/Spinner.gif" alt="loading"></div>
	<div data-bind="foreach: {data: viewModel.classes, as: 'currentClass'}">
		<h3 data-bind="text: classShortName+' - '+className"></h3>
		<table data-bind="visible: viewModel.selectedEvent()" class="table table-striped table-hover">
			<thead>
				<tr>
					<th>Platz</th><th>Fahrernummer</th><th>Name</th><th class="hidden-xs">Punkte</th><th class="hidden-xs">Reaktion</th><th>Total</th><th class="hidden-xs">Speed (km/h)</th>
				</tr>
			</thead>
			<tbody data-bind="foreach: viewModel.heatsByClass($data.classShortName)">
				<tr data-bind="click: function(){$root.showDialog(true)}">
					<td data-bind="text: $index() + 1"></td>
					<td data-bind="text: $data.driverNo"></td>
					<td data-bind="text: $data.driverLastName+', '+$data.driverFirstName"></td>
					<td class="hidden-xs" data-bind="text: $index()<points.length ? points[$index()]: '0'"></td>
					<td class="hidden-xs" data-bind="text: $data.timeReaction"></td>
					<td data-bind="text: $data.timeTotal"></td>
					<td class="hidden-xs" data-bind="text: $data.topSpeed"></td>
				</tr>
			</tbody>
		</table>
	</div>
	<!--<button id="reload" type="button" class="btn btn-primary">reload</button>-->
</div>
<script src="js/heats.js" type="text/javascript"></script>